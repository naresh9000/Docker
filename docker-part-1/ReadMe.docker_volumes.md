$ docker volume create docker_mysql

using the storage mount-point ,we can use -v or --mount

**=>Using  volume default location**
docker run --rm  -d --name docker_mysql \
-p 3306:3306 -e MYSQL_ROOT_PASSWORD=fdffdgf@ \
-v <volume-name>:/var/lib/mysql \
mysql:latest

docker exec -it <container-id> /bin/bash
mysql -u root -p
Enter password: <password>
NOte::
Create the sample sql database and entry the data,and stop the container and check the data persist or not

In a bind mount, you essentially map a directory or file from the host system into the container's filesystem.
**using the bind-mount...**-mounting docker host folder to docker container
docker run --rm -d --name docker_mysql \
-p 3306:3306 -e MYSQL_ROOT_PASSWORD=gfdgghh@ \
-v /mnt/docker_volume:/var/lib/mysql \
mysql:latest

** Execuitng the docker host commands on container shell using bind mounts(-v --mount)**
By mounting the Docker socket from the host system into the container.
Small inf::
Mount the Docker Socket:
The Docker socket (usually located at /var/run/docker.sock on Linux systems) is a Unix socket that Docker daemon listens to for API requests. By mounting this socket into your container, you allow the container to communicate with the Docker daemon running on the host.


docker run --rm -dit --name <container-name> -v /var/run/docker.sock:/var/run/docker.sock <image-name>:tag



** using EFS file storage for docker-host store **

1) Create the EFS file storage through  aws console
    or Mount EFS onto Docker Hosts using the Ansible..
2)  sudo apt update
    sudo apt install -y nfs-common
    mkdir /mnt/efs
    chmod 777 /mnt/efs
    Click on the Attach on EFS creted from console
    Copy using the NFS-client

    sudo mount -t nfs4 -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport fs-0077c117b3dffdfdfddd5620a6.efs.ap-south-2.amazonaws.com:/ /mnt/efs

    Check its  mounted or not..
    mount | grep /mnt/efs
    ls -l /mnt/efs
    if any error occurs "dmesg | grep nfs"
    df -h  => to check percentage of storage used by instance...

3) In Docker, the /var/lib/docker/volumes directory contains the data associated with Docker volumes. Docker volumes are used to persist data generated by and used by Docker containers. Mounting this directory onto Amazon EFS allows you to store persistent data from Docker containers in a scalable and shared storage system.

docker volume create --driver local \
--opt type=none \
--opt device=/mnt/efs/sqldata \
--opt o=bind \
<Name >

    rsync -aqxP /var/lib/docker/volumes  /mnt/efs

3) Run the MYSQL container
docker run --rm -d --name docker_sql \
-p 3306:3306 \
-e MYSQL_ROOT_PASSWORD=fdfdfdfdfd@ \
-v /mnt/efs/sqldata:/var/lib/mysql \
mysql:latest


